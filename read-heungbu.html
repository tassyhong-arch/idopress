<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>흥부전 - 이도</title>
    <meta name="description" content="흥부전 전문을 읽어보세요">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* 이북 리더 전용 스타일 */
        .ebook-reader {
            background: #fff;
            min-height: 100vh;
            padding-top: 80px;
        }

        .ebook-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
        }

        .ebook-controls {
            background: #f8fafc;
            padding: 1rem 0;
            border-bottom: 1px solid #e2e8f0;
            position: sticky;
            top: 80px;
            z-index: 50;
        }

        .controls-container {
            max-width: 1000px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
        }

        .control-group {
            display: flex;
            gap: 1rem;
            align-items: center;
        }

        .control-btn {
            background: #fff;
            border: 1px solid #d1d5db;
            padding: 0.5rem 1rem;
            border-radius: 0.375rem;
            cursor: pointer;
            font-size: 14px;
        }

        .control-btn:hover {
            background: #f3f4f6;
        }

        .control-btn.active {
            background: #3b82f6;
            color: white;
            border-color: #3b82f6;
        }

        .theme-selector {
            display: flex;
            gap: 0.5rem;
        }

        .theme-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: 2px solid #d1d5db;
            cursor: pointer;
        }

        .theme-light {
            background: #fff;
        }

        .theme-dark {
            background: #1f2937;
        }

        .theme-sepia {
            background: #f7f3e9;
        }

        .progress-container {
            width: 200px;
            height: 6px;
            background: #e5e7eb;
            border-radius: 3px;
            overflow: hidden;
        }

        .progress-bar {
            height: 100%;
            background: linear-gradient(90deg, #3b82f6, #1d4ed8);
            width: 0%;
            transition: width 0.3s ease;
        }

        .ebook-content {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem 20px;
            line-height: 1.8;
            font-size: 18px;
        }

        .chapter {
            margin-bottom: 3rem;
            padding: 2rem;
            background: #fff;
            border-radius: 0.75rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .chapter-title {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 2rem;
            color: #1f2937;
            text-align: center;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 1rem;
        }

        .chapter-content {
            text-align: justify;
            color: #374151;
        }

        .chapter-content p {
            margin-bottom: 1.5rem;
        }

        .chapter-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 2rem 0;
            padding: 1rem 0;
            border-top: 1px solid #e5e7eb;
        }

        .nav-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            cursor: pointer;
            font-weight: 500;
            transition: transform 0.2s;
        }

        .nav-btn:hover {
            transform: translateY(-2px);
        }

        .nav-btn:disabled {
            background: #9ca3af;
            cursor: not-allowed;
            transform: none;
        }

        .chapter-indicator {
            font-weight: 500;
            color: #6b7280;
        }

        /* 다크 테마 */
        .dark-theme {
            background: #1f2937;
            color: #f9fafb;
        }

        .dark-theme .ebook-controls {
            background: #374151;
            border-bottom-color: #4b5563;
        }

        .dark-theme .chapter {
            background: #374151;
            color: #f9fafb;
        }

        .dark-theme .chapter-title {
            color: #f9fafb;
            border-bottom-color: #4b5563;
        }

        .dark-theme .chapter-content {
            color: #d1d5db;
        }

        /* 세피아 테마 */
        .sepia-theme {
            background: #f7f3e9;
            color: #5d4e37;
        }

        .sepia-theme .ebook-controls {
            background: #f0ebd8;
            border-bottom-color: #ddbf94;
        }

        .sepia-theme .chapter {
            background: #faf6ed;
            color: #5d4e37;
        }

        .sepia-theme .chapter-title {
            color: #8b4513;
            border-bottom-color: #ddbf94;
        }

        .sepia-theme .chapter-content {
            color: #654321;
        }

        /* 모바일 반응형 */
        @media (max-width: 768px) {
            .controls-container {
                flex-direction: column;
                gap: 1rem;
            }

            .ebook-content {
                padding: 1rem 15px;
                font-size: 16px;
            }

            .chapter {
                padding: 1.5rem;
            }

            .chapter-title {
                font-size: 1.5rem;
            }

            .progress-container {
                width: 150px;
            }
        }
    </style>
</head>
<body>
    <!-- 네비게이션 -->
    <nav style="position: fixed; top: 0; left: 0; right: 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 1rem 0; z-index: 100;">
        <div style="max-width: 1200px; margin: 0 auto; display: flex; justify-content: space-between; align-items: center; padding: 0 20px;">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <h1 style="font-size: 1.5rem; font-weight: bold; margin: 0;">이도</h1>
                <span style="background: rgba(255,255,255,0.2); padding: 0.25rem 0.75rem; border-radius: 1rem; font-size: 0.875rem;">흥부전</span>
            </div>
            <div style="display: flex; gap: 1rem;">
                <a href="index-simple.html" style="color: white; text-decoration: none; padding: 0.5rem 1rem; background: rgba(255,255,255,0.1); border-radius: 0.375rem;">홈</a>
                <a href="books.html" style="color: white; text-decoration: none; padding: 0.5rem 1rem; background: rgba(255,255,255,0.1); border-radius: 0.375rem;">도서 목록</a>
            </div>
        </div>
    </nav>

    <div class="ebook-reader" id="ebookReader">
        <!-- 이북 헤더 -->
        <div class="ebook-header">
            <h1 style="font-size: 3rem; font-weight: bold; margin: 0;">흥부전</h1>
            <p style="font-size: 1.2rem; margin: 1rem 0 0 0; opacity: 0.9;">선량한 흥부와 욕심 많은 놀부의 이야기</p>
        </div>

        <!-- 이북 컨트롤 -->
        <div class="ebook-controls">
            <div class="controls-container">
                <div class="control-group">
                    <button class="control-btn" onclick="changeFontSize(-2)">A-</button>
                    <button class="control-btn" onclick="changeFontSize(2)">A+</button>
                    <div class="theme-selector">
                        <div class="theme-btn theme-light" onclick="changeTheme('light')" title="라이트 테마"></div>
                        <div class="theme-btn theme-dark" onclick="changeTheme('dark')" title="다크 테마"></div>
                        <div class="theme-btn theme-sepia" onclick="changeTheme('sepia')" title="세피아 테마"></div>
                    </div>
                </div>
                
                <div class="control-group">
                    <span style="font-size: 14px; color: #6b7280;">읽기 진도</span>
                    <div class="progress-container">
                        <div class="progress-bar" id="progressBar"></div>
                    </div>
                    <span id="progressText" style="font-size: 14px; color: #6b7280;">0%</span>
                </div>
            </div>
        </div>

        <!-- 이북 컨텐츠 -->
        <div class="ebook-content" id="ebookContent">
            <!-- 1장: 놀부와 흥부 형제 -->
            <div class="chapter" data-chapter="1">
                <h2 class="chapter-title">제1장: 놀부와 흥부 형제</h2>
                <div class="chapter-content">
                    <p>
                        옛날 어느 마을에 놀부와 흥부라는 형제가 살았다. 
                        형인 놀부는 욕심이 많고 인색하여 남을 도와주는 일이 없었고, 
                        아우인 흥부는 마음이 착하고 정직하여 어려운 사람을 보면 
                        자신이 굶어도 도와주는 사람이었다.
                    </p>
                    <p>
                        부모가 돌아가신 후, 놀부가 모든 재산을 독차지하고 
                        흥부에게는 아무것도 주지 않았다. 흥부는 아내와 여러 자식들과 함께 
                        가난하게 살면서도 원망하지 않고 성실하게 살아갔다.
                    </p>
                    <p>
                        놀부의 집은 크고 화려하여 곡식과 돈이 넘쳐났지만, 
                        흥부의 집은 초라한 초가집으로 끼니를 잇기조차 어려웠다. 
                        그러나 흥부는 항상 웃음을 잃지 않고 가족들을 사랑으로 돌보았다.
                    </p>
                    <p>
                        어느 추운 겨울날, 흥부의 집에는 먹을 것이 떨어져 
                        가족들이 굶주리게 되었다. 흥부는 마지못해 형 놀부에게 
                        도움을 청하러 가기로 하였다.
                    </p>
                </div>
            </div>

            <!-- 2장: 놀부의 냉대 -->
            <div class="chapter" data-chapter="2">
                <h2 class="chapter-title">제2장: 놀부의 냉대</h2>
                <div class="chapter-content">
                    <p>
                        흥부가 놀부의 집에 가서 무릎을 꿇고 애원하였다.
                        "형님, 집에 먹을 것이 없어 아이들이 굶고 있습니다. 
                        쌀 한 되만이라도 꾸어주시면 나중에 갚겠습니다."
                    </p>
                    <p>
                        그러나 놀부는 매정하게 대답하였다.
                        "게으른 놈이 와서 구걸을 하느냐! 네가 일을 제대로 했다면 
                        굶을 일이 있겠느냐? 내 돈 한 푼도 줄 수 없다!"
                    </p>
                    <p>
                        놀부의 아내는 더욱 심하게 흥부를 구박하며 
                        빗자루로 때리고 쫓아냈다. 흥부는 맞으면서도 
                        "형님, 제발 아이들만은 굶기지 마십시오!" 하고 애원하였다.
                    </p>
                    <p>
                        결국 흥부는 아무것도 얻지 못하고 집으로 돌아가야 했다. 
                        길에서 눈물을 흘리며 하늘을 바라보고 말하였다.
                        "하늘이시여, 제가 무슨 죄를 지었기에 이런 고생을 합니까?"
                    </p>
                </div>
            </div>

            <!-- 3장: 제비의 다리를 고쳐주다 -->
            <div class="chapter" data-chapter="3">
                <h2 class="chapter-title">제3장: 제비의 다리를 고쳐주다</h2>
                <div class="chapter-content">
                    <p>
                        이듬해 봄이 되어 제비 한 마리가 흥부의 집 처마 밑에 
                        둥지를 틀고 새끼들을 키우고 있었다. 그런데 어느 날 
                        뱀이 올라와서 새끼들을 잡아먹으려 하였다.
                    </p>
                    <p>
                        흥부가 이를 보고 급히 뱀을 쫓아내었지만, 
                        그 과정에서 어미 제비의 다리가 부러져 버렸다. 
                        흥부는 불쌍히 여겨 정성스럽게 제비의 다리를 
                        나무 조각으로 고쳐주었다.
                    </p>
                    <p>
                        "가엾은 제비야, 아픈 다리로 어떻게 살아가겠느냐? 
                        내가 정성껏 고쳐줄 테니 걱정하지 말아라."
                        흥부는 며칠 동안 제비를 돌보아 주었다.
                    </p>
                    <p>
                        제비는 다리가 나은 후 감사한 마음을 담아 
                        흥부를 바라보며 지저귄 다음, 남쪽 나라로 날아갔다. 
                        흥부는 제비가 무사히 떠나는 것을 보고 기뻐하였다.
                    </p>
                </div>
            </div>

            <!-- 4장: 박씨와 보은 -->
            <div class="chapter" data-chapter="4">
                <h2 class="chapter-title">제4장: 박씨와 보은</h2>
                <div class="chapter-content">
                    <p>
                        그해 가을이 되자, 흥부가 도와준 제비가 다시 돌아왔다. 
                        제비는 입에 박씨 하나를 물고 와서 흥부의 마당에 떨어뜨리고 갔다. 
                        흥부는 이상하게 여기면서도 그 씨를 심었다.
                    </p>
                    <p>
                        박은 놀랍도록 크게 자라나서, 집채만한 큰 박이 
                        여러 개나 열렸다. 가을이 되어 박을 따서 반으로 가르니, 
                        그 안에서 온갖 보물들이 쏟아져 나왔다.
                    </p>
                    <p>
                        금은보화는 물론이고, 비단과 쌀, 그리고 아름다운 집을 지을 
                        목재까지 나왔다. 흥부 가족은 갑자기 부자가 되어 
                        큰 기와집을 짓고 풍족하게 살게 되었다.
                    </p>
                    <p>
                        흥부는 부자가 된 후에도 마음씨가 변하지 않고, 
                        어려운 이웃들을 도와주며 착하게 살았다. 
                        동네 사람들은 모두 흥부를 칭찬하고 존경하였다.
                    </p>
                </div>
            </div>

            <!-- 5장: 놀부의 욕심과 벌 -->
            <div class="chapter" data-chapter="5">
                <h2 class="chapter-title">제5장: 놀부의 욕심과 벌</h2>
                <div class="chapter-content">
                    <p>
                        놀부는 흥부가 갑자기 부자가 된 이유를 듣고 크게 놀랐다. 
                        욕심이 생긴 놀부는 제비 둥지를 찾아가서 
                        일부러 제비의 다리를 부러뜨렸다.
                    </p>
                    <p>
                        그리고는 거짓으로 정성스럽게 치료해 주는 척하며, 
                        제비가 박씨를 물어다 주기를 기다렸다. 
                        가을이 되자 과연 제비가 박씨를 물어다 주었다.
                    </p>
                    <p>
                        놀부는 크게 기뻐하며 박씨를 심고 정성껏 기르었다. 
                        박이 크게 자라나자 놀부는 욕심을 내며 
                        박을 따서 반으로 갈랐다.
                    </p>
                    <p>
                        그런데 박 안에서 나온 것은 보물이 아니라 
                        도깨비와 괴물들이었다. 그들은 놀부의 재산을 모두 빼앗고 
                        집을 부수고 갔다. 놀부는 하루아침에 거지가 되었다.
                    </p>
                    <p>
                        놀부가 울며 흥부에게 와서 용서를 빌자, 
                        착한 흥부는 형을 받아들이고 함께 살게 하였다. 
                        그 후로 놀부도 마음을 고쳐 착하게 살았다고 한다.
                    </p>
                </div>
            </div>

            <!-- 장 네비게이션 -->
            <div class="chapter-nav">
                <button class="nav-btn" id="prevBtn" onclick="prevChapter()" disabled>이전 장</button>
                <span class="chapter-indicator">
                    <span id="currentChapter">1</span> / <span id="totalChapters">5</span>장
                </span>
                <button class="nav-btn" id="nextBtn" onclick="nextChapter()">다음 장</button>
            </div>
        </div>
    </div>

    <script>
        let currentChapter = 1;
        const totalChapters = 5;
        let fontSize = 18;

        // 초기 설정
        document.addEventListener('DOMContentLoaded', function() {
            showChapter(1);
            updateProgress();
            
            // 스크롤 이벤트로 진도 업데이트
            window.addEventListener('scroll', updateProgress);
        });

        // 장 표시 함수
        function showChapter(chapterNum) {
            const chapters = document.querySelectorAll('.chapter');
            chapters.forEach((chapter, index) => {
                if (index + 1 === chapterNum) {
                    chapter.style.display = 'block';
                    chapter.scrollIntoView({ behavior: 'smooth', block: 'start' });
                } else {
                    chapter.style.display = 'none';
                }
            });
            
            currentChapter = chapterNum;
            document.getElementById('currentChapter').textContent = currentChapter;
            
            // 버튼 상태 업데이트
            document.getElementById('prevBtn').disabled = currentChapter === 1;
            document.getElementById('nextBtn').disabled = currentChapter === totalChapters;
            
            updateProgress();
        }

        // 이전 장
        function prevChapter() {
            if (currentChapter > 1) {
                showChapter(currentChapter - 1);
            }
        }

        // 다음 장
        function nextChapter() {
            if (currentChapter < totalChapters) {
                showChapter(currentChapter + 1);
            }
        }

        // 진도 업데이트
        function updateProgress() {
            const progress = (currentChapter / totalChapters) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = Math.round(progress) + '%';
        }

        // 폰트 크기 변경
        function changeFontSize(change) {
            fontSize += change;
            fontSize = Math.max(14, Math.min(24, fontSize)); // 14px ~ 24px 제한
            document.getElementById('ebookContent').style.fontSize = fontSize + 'px';
        }

        // 테마 변경
        function changeTheme(theme) {
            const reader = document.getElementById('ebookReader');
            reader.className = 'ebook-reader';
            
            if (theme === 'dark') {
                reader.classList.add('dark-theme');
            } else if (theme === 'sepia') {
                reader.classList.add('sepia-theme');
            }
            
            // 테마 버튼 활성화 표시
            document.querySelectorAll('.theme-btn').forEach(btn => {
                btn.style.border = '2px solid #d1d5db';
            });
            
            if (theme === 'light') {
                document.querySelector('.theme-light').style.border = '2px solid #3b82f6';
            } else if (theme === 'dark') {
                document.querySelector('.theme-dark').style.border = '2px solid #3b82f6';
            } else if (theme === 'sepia') {
                document.querySelector('.theme-sepia').style.border = '2px solid #3b82f6';
            }
        }

        // 초기 라이트 테마 설정
        changeTheme('light');
    </script>
</body>
</html>