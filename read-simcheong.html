<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>심청전 - 한국고전문학관</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Nanum Myeongjo', serif;
            line-height: 1.8;
            background: #f8f9fa;
            transition: all 0.3s ease;
        }

        body.dark {
            background: #1a1a1a;
            color: #e0e0e0;
        }

        .reader-container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        .dark .reader-container {
            background: #2d2d2d;
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }

        .reader-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .reader-title {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 8px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .reader-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 15px;
        }

        .progress-bar {
            width: 100%;
            height: 4px;
            background: rgba(255,255,255,0.3);
            border-radius: 2px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: #ffd700;
            border-radius: 2px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .controls {
            background: white;
            border-bottom: 1px solid #eee;
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 10px;
            position: sticky;
            top: 120px;
            z-index: 99;
            transition: all 0.3s ease;
        }

        .dark .controls {
            background: #333;
            border-bottom-color: #555;
        }

        .control-group {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .btn {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s ease;
            background: #667eea;
            color: white;
        }

        .btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
        }

        .btn.secondary {
            background: #6c757d;
        }

        .btn.accent {
            background: #ffd700;
            color: #333;
        }

        .btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .font-control {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .font-size-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 16px;
        }

        .chapter-nav {
            background: white;
            border-bottom: 1px solid #eee;
            padding: 15px 20px;
            position: sticky;
            top: 180px;
            z-index: 98;
            transition: all 0.3s ease;
        }

        .dark .chapter-nav {
            background: #333;
            border-bottom-color: #555;
        }

        .chapter-list {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .chapter-btn {
            padding: 8px 16px;
            border: 2px solid #667eea;
            background: transparent;
            color: #667eea;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .chapter-btn.active {
            background: #667eea;
            color: white;
        }

        .chapter-btn:hover {
            background: #667eea;
            color: white;
            transform: translateY(-1px);
        }

        .content {
            padding: 40px 30px;
            font-size: 18px;
            color: #333;
            transition: all 0.3s ease;
        }

        .dark .content {
            color: #e0e0e0;
        }

        .chapter {
            display: none;
            animation: fadeIn 0.5s ease;
        }

        .chapter.active {
            display: block;
        }

        .chapter-title {
            font-size: 1.8rem;
            color: #667eea;
            margin-bottom: 30px;
            text-align: center;
            border-bottom: 2px solid #667eea;
            padding-bottom: 15px;
        }

        .dark .chapter-title {
            color: #8fa2ff;
            border-bottom-color: #8fa2ff;
        }

        .chapter-content p {
            margin-bottom: 25px;
            text-align: justify;
            text-indent: 1.5em;
        }

        .highlight {
            background: linear-gradient(120deg, #ffd70040 0%, #ffd70040 100%);
            padding: 2px 4px;
            border-radius: 3px;
        }

        .dark .highlight {
            background: linear-gradient(120deg, #ffd70060 0%, #ffd70060 100%);
        }

        .footer {
            background: #f8f9fa;
            padding: 20px;
            text-align: center;
            color: #6c757d;
            border-top: 1px solid #eee;
        }

        .dark .footer {
            background: #333;
            border-top-color: #555;
        }

        .footer a {
            color: #667eea;
            text-decoration: none;
            font-weight: 500;
        }

        .footer a:hover {
            text-decoration: underline;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .reader-title {
                font-size: 1.8rem;
            }
            
            .content {
                padding: 30px 20px;
                font-size: 16px;
            }
            
            .controls {
                top: 100px;
            }
            
            .chapter-nav {
                top: 160px;
            }
            
            .chapter-list {
                gap: 5px;
            }
            
            .chapter-btn {
                padding: 6px 12px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="reader-container">
        <div class="reader-header">
            <h1 class="reader-title">심청전</h1>
            <p class="reader-subtitle">孝女 沈淸의 이야기</p>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>

        <div class="controls">
            <div class="control-group">
                <button class="btn" onclick="goBack()">← 목록으로</button>
                <button class="btn secondary" id="themeToggle" onclick="toggleTheme()">🌙 다크모드</button>
            </div>
            <div class="control-group font-control">
                <span>글자크기:</span>
                <button class="btn font-size-btn" onclick="changeFontSize(-2)">A-</button>
                <button class="btn font-size-btn" onclick="changeFontSize(2)">A+</button>
            </div>
        </div>

        <div class="chapter-nav">
            <div class="chapter-list">
                <button class="chapter-btn active" onclick="showChapter(1)">제1장</button>
                <button class="chapter-btn" onclick="showChapter(2)">제2장</button>
                <button class="chapter-btn" onclick="showChapter(3)">제3장</button>
                <button class="chapter-btn" onclick="showChapter(4)">제4장</button>
                <button class="chapter-btn" onclick="showChapter(5)">제5장</button>
            </div>
        </div>

        <div class="content" id="contentArea">
            <div class="chapter active" id="chapter1">
                <h2 class="chapter-title">제1장 - 심학규와 곽씨부인</h2>
                <div class="chapter-content">
                    <p>옛날 중국 송나라 때에 <span class="highlight">심학규</span>라는 선비가 있었다. 그는 어려서부터 글을 좋아하여 밤낮으로 공부에만 열중하였으나, 집안이 가난하여 늘 끼니를 거르기 일쑤였다.</p>
                    
                    <p>심학규의 아내 <span class="highlight">곽씨부인</span>은 현숙하고 마음씨가 착한 여인이었다. 비록 집이 가난하여도 남편의 학업을 열심히 도와주며, 품삯일을 하여 생계를 꾸려나갔다.</p>
                    
                    <p>두 부부는 결혼한 지 여러 해가 지났지만 아직 자식이 없어 늘 안타까워하였다. 특히 곽씨부인은 관음보살님께 백일기도를 드리며 자식을 점지해 달라고 간절히 빌었다.</p>
                    
                    <p>"하늘이시여, 저희에게 효성스러운 자식 하나만 점지해 주시옵소서. 비록 가난하지만 정성을 다해 기르겠나이다."</p>
                    
                    <p>이렇게 간절히 기도하던 어느 날 밤, 곽씨부인의 꿈에 관음보살이 나타나셨다. 보살님은 환한 빛에 둘러싸인 채 연꽃을 들고 서 계셨다.</p>
                    
                    <p>"선한 마음씨를 가진 곽씨여, 네 정성이 하늘에 닿았도다. 이 연꽃을 받아라. 곧 귀한 딸을 낳게 될 것이니, 그 아이는 세상에서 가장 효성스러운 자식이 될 것이다."</p>
                </div>
            </div>

            <div class="chapter" id="chapter2">
                <h2 class="chapter-title">제2장 - 심청의 탄생과 어린 시절</h2>
                <div class="chapter-content">
                    <p>꿈에서 깬 곽씨부인은 가슴이 두근거렸다. 그리고 정말로 얼마 후 아이를 가지게 되었다. 열 달이 차서 곱디고운 딸을 낳았는데, 이 아이가 바로 <span class="highlight">심청</span>이었다.</p>
                    
                    <p>하지만 기쁨도 잠시, 곽씨부인은 아이를 낳은 지 칠일 만에 세상을 떠나고 말았다. 심학규는 아내를 잃은 슬픔과 갓난아이를 혼자 키워야 하는 막막함에 눈물만 흘렸다.</p>
                    
                    <p>"이 어린것을 어찌 기를꼬... 젖도 없는데..."</p>
                    
                    <p>다행히 동네 아낙네들이 도와주어 심청이는 무럭무럭 자랄 수 있었다. 심청이는 자라면서 총명하고 예쁘기가 이루 말할 수 없었다. 더욱이 어려서부터 아버지를 극진히 모시는 효성이 지극하였다.</p>
                    
                    <p>심청이가 일곱 살이 되던 해, 심학규는 눈병을 얻어 <span class="highlight">장님</span>이 되고 말았다. 이제 집안의 기둥 역할을 해야 할 심청이는 더욱 애쓰며 아버지를 돌보았다.</p>
                    
                    <p>"아버지, 제가 있잖아요. 걱정 마세요. 청이가 열심히 일해서 아버지를 모시겠어요."</p>
                    
                    <p>어린 심청이는 품삯일을 하며 아버지와 함께 살아갔다. 비록 어리지만 남의 집 방아 찧는 일, 길쌈하는 일 등 닥치는 대로 일을 하였다.</p>
                </div>
            </div>

            <div class="chapter" id="chapter3">
                <h2 class="chapter-title">제3장 - 공양미 삼백 석의 약속</h2>
                <div class="chapter-content">
                    <p>심청이가 열다섯 살이 되던 해 봄, 심학규는 동네 사람들과 함께 <span class="highlight">몽은사</span>에 불공을 드리러 갔다. 그런데 돌아오는 길에 개울가에서 그만 물에 빠지고 말았다.</p>
                    
                    <p>"사람 살려! 사람 살려!"</p>
                    
                    <p>마침 지나가던 몽은사의 화주승이 심학규를 구해주었다. 물에서 건져 올린 후, 화주승은 심학규에게 말하였다.</p>
                    
                    <p>"시주님, 부처님께 공양미 <span class="highlight">삼백 석</span>을 시주하시면 눈을 뜨게 될 것입니다. 부처님의 자비로 다시 밝은 세상을 보실 수 있을 것이옵니다."</p>
                    
                    <p>집에 돌아온 심학규는 심청에게 이 말을 전하였다. 심청이는 아버지가 다시 눈을 뜰 수 있다는 희망에 가슴이 뛰었지만, 공양미 삼백 석은 너무나 큰 돈이었다.</p>
                    
                    <p>"공양미 삼백 석이라... 그 많은 쌀을 우리가 어떻게 구하지?"</p>
                    
                    <p>그때 마을에 <span class="highlight">인신공양</span>을 받는다는 뱃사람들이 나타났다. 그들은 바다의 용왕에게 제사를 지내기 위해 젊고 깨끗한 처녀가 필요하다며, 그 대가로 쌀 삼백 석을 주겠다고 하였다.</p>
                    
                    <p>심청이는 이 말을 듣고 마음을 굳혔다.</p>
                    
                    <p>"아버지의 눈을 뜨게 할 수 있다면... 내 목숨이 아깝지 않아."</p>
                </div>
            </div>

            <div class="chapter" id="chapter4">
                <h2 class="chapter-title">제4장 - 인당수에 몸을 던지다</h2>
                <div class="chapter-content">
                    <p>심청이는 뱃사람들과 약속을 맺었다. 공양미 삼백 석을 받고 <span class="highlight">인당수</span>에 몸을 던지기로 한 것이다. 인당수는 바다 한가운데 있는 깊은 물구덩이로, 그곳에는 용왕이 산다고 전해졌다.</p>
                    
                    <p>약속한 날이 되어 심청이는 아버지께 마지막 인사를 드렸다.</p>
                    
                    <p>"아버지, 청이가 잠시 멀리 다녀오겠습니다. 몽은사에서 쌀을 가져다 드릴 테니, 부처님께 열심히 불공 드리세요."</p>
                    
                    <p>"그래, 우리 효성스러운 청아. 다녀와라."</p>
                    
                    <p>심학규는 딸이 어디로 가는지 알지 못했다. 심청이는 차마 아버지께 진실을 말할 수 없었던 것이다.</p>
                    
                    <p>배를 타고 인당수에 도착한 심청이는 바다를 바라보며 마지막 기도를 드렸다.</p>
                    
                    <p>"용왕님, 제 목숨을 받으시고 아버지의 눈을 밝게 해주세요. 그리고 세상의 모든 불쌍한 사람들을 도와주세요."</p>
                    
                    <p>심청이는 <span class="highlight">"아버지!"</span>를 외치며 깊은 바다 속으로 몸을 던졌다. 순간 거센 바람이 일며 파도가 일어났고, 심청이는 바다 속 깊이 빨려 들어갔다.</p>
                </div>
            </div>

            <div class="chapter" id="chapter5">
                <h2 class="chapter-title">제5장 - 용궁과 환생</h2>
                <div class="chapter-content">
                    <p>바다 속으로 떨어진 심청이는 죽지 않고 <span class="highlight">용궁</span>으로 이끌려 갔다. 용왕은 심청이의 효성에 감동하여 그를 극진히 대접하였다.</p>
                    
                    <p>"심청아, 네 효성이 하늘을 감동시켰도다. 이제 너를 다시 인간 세상으로 보내어 아버지와 상봉하게 하겠노라."</p>
                    
                    <p>용왕은 심청이를 <span class="highlight">연꽃</span> 속에 넣어 바다 위로 띄워 보냈다. 마침 그곳을 지나던 남경 황제의 배가 큰 연꽃을 건져 올렸다.</p>
                    
                    <p>연꽃이 활짝 피면서 그 안에서 아름다운 처녀가 나타나자, 황제는 크게 놀라며 감탄하였다.</p>
                    
                    <p>"이는 분명 하늘이 내려주신 선녀로다!"</p>
                    
                    <p>황제는 심청이를 왕비로 맞아들였다. 하지만 심청이는 아버지 생각에 늘 눈물을 흘렸다.</p>
                    
                    <p>"폐하, 소녀에게는 눈먼 아버지가 계십니다. 아버지를 모시지 못하면 소녀는 행복할 수 없습니다."</p>
                    
                    <p>황제는 심청이의 효성에 감동하여 전국에 방을 붙여 눈먼 사람들을 모두 궁으로 불러들였다. 잔치를 베풀어 그들을 대접하면서 심청이의 아버지를 찾겠다고 하였다.</p>
                    
                    <p>마침내 심학규도 그 잔치에 오게 되었고, 부녀는 극적으로 재회하게 되었다. 죽은 줄 알았던 딸을 다시 만난 심학규는 너무나 기쁜 나머지 <span class="highlight">눈을 뜨게</span> 되었다.</p>
                    
                    <p>이후 심청이는 황후가 되어 백성들을 자애로 다스렸고, 심학규는 아들처럼 귀한 대접을 받으며 오래도록 행복하게 살았다고 전해진다.</p>
                </div>
            </div>
        </div>

        <div class="footer">
            <p><a href="#" onclick="goBack()">← 한국고전문학관으로 돌아가기</a></p>
            <p>심청전 - 효와 희생정신을 그린 한국의 대표적인 고전소설</p>
        </div>
    </div>

    <script>
        let currentChapter = 1;
        let currentFontSize = 18;

        function showChapter(chapterNum) {
            // 현재 활성화된 챕터 숨기기
            document.querySelectorAll('.chapter').forEach(ch => ch.classList.remove('active'));
            document.querySelectorAll('.chapter-btn').forEach(btn => btn.classList.remove('active'));
            
            // 새로운 챕터 보여주기
            document.getElementById('chapter' + chapterNum).classList.add('active');
            document.querySelectorAll('.chapter-btn')[chapterNum - 1].classList.add('active');
            
            currentChapter = chapterNum;
            updateProgress();
            
            // 맨 위로 스크롤
            document.querySelector('.content').scrollIntoView({ behavior: 'smooth' });
        }

        function updateProgress() {
            const progress = (currentChapter / 5) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
        }

        function toggleTheme() {
            document.body.classList.toggle('dark');
            const themeToggle = document.getElementById('themeToggle');
            
            if (document.body.classList.contains('dark')) {
                themeToggle.innerHTML = '☀️ 라이트모드';
                localStorage.setItem('theme', 'dark');
            } else {
                themeToggle.innerHTML = '🌙 다크모드';
                localStorage.setItem('theme', 'light');
            }
        }

        function changeFontSize(change) {
            currentFontSize += change;
            if (currentFontSize < 14) currentFontSize = 14;
            if (currentFontSize > 24) currentFontSize = 24;
            
            document.getElementById('contentArea').style.fontSize = currentFontSize + 'px';
            localStorage.setItem('fontSize', currentFontSize);
        }

        function goBack() {
            window.location.href = 'books.html';
        }

        // 페이지 로드 시 저장된 설정 복원
        window.addEventListener('load', function() {
            const savedTheme = localStorage.getItem('theme');
            const savedFontSize = localStorage.getItem('fontSize');
            
            if (savedTheme === 'dark') {
                document.body.classList.add('dark');
                document.getElementById('themeToggle').innerHTML = '☀️ 라이트모드';
            }
            
            if (savedFontSize) {
                currentFontSize = parseInt(savedFontSize);
                document.getElementById('contentArea').style.fontSize = currentFontSize + 'px';
            }
            
            updateProgress();
        });

        // 스크롤 기반 진행률 업데이트
        window.addEventListener('scroll', function() {
            const scrollTop = window.pageYOffset;
            const docHeight = document.body.scrollHeight - window.innerHeight;
            const scrollPercent = (scrollTop / docHeight) * 100;
            
            // 스크롤 기반으로도 진행률 업데이트 (현재 챕터 기준으로 미세조정)
            const baseProgress = ((currentChapter - 1) / 5) * 100;
            const chapterProgress = (scrollPercent / 5);
            const totalProgress = Math.min(baseProgress + chapterProgress, 100);
            
            document.getElementById('progressFill').style.width = totalProgress + '%';
        });

        // 키보드 네비게이션
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' && currentChapter < 5) {
                showChapter(currentChapter + 1);
            } else if (e.key === 'ArrowLeft' && currentChapter > 1) {
                showChapter(currentChapter - 1);
            }
        });
    </script>
</body>
</html>